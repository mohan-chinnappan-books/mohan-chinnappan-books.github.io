<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Mastering Lightning Web Components (LWC)</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1.html"><strong aria-hidden="true">1.</strong> Introduction to Web Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="practice/p_1.html"><strong aria-hidden="true">1.1.</strong> Practice - Stock Quote Component</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_2.html"><strong aria-hidden="true">2.</strong> LWC vs Aura</a></li><li class="chapter-item expanded "><a href="chapter_3.html"><strong aria-hidden="true">3.</strong> Development Environment</a></li><li class="chapter-item expanded "><a href="chapter_data.html"><strong aria-hidden="true">4.</strong> Using Salesforce Data</a></li><li class="chapter-item expanded "><a href="chapter_charts.html"><strong aria-hidden="true">5.</strong> Charting Data</a></li><li class="chapter-item expanded "><a href="chapter_4.html"><strong aria-hidden="true">6.</strong> Decorators</a></li><li class="chapter-item expanded "><a href="chapter_5.html"><strong aria-hidden="true">7.</strong> Component Life Cycle</a></li><li class="chapter-item expanded "><a href="chapter_6.html"><strong aria-hidden="true">8.</strong> Events</a></li><li class="chapter-item expanded "><a href="chapter_7.html"><strong aria-hidden="true">9.</strong> Lightning Data Service</a></li><li class="chapter-item expanded "><a href="chapter_8.html"><strong aria-hidden="true">10.</strong> Security with Lightning Locker</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Mastering Lightning Web Components (LWC)</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="1-introduction-to-web-components"><a class="header" href="#1-introduction-to-web-components">1. Introduction to Web Components</a></h1>
<p><img src="https://lh6.googleusercontent.com/proxy/LnKoDEEcgz8CyuvXOlyfFp9tL2B9t61GbaGVDecM3VWOChXDrzGEUaGVuBx2tGZoVuIbplzt8kfDmEBj4KfuNhXZAbG70t_H6YBovtH3raCnB4IJDepwYCH6U0Iyc2Lx4AMIClvVQvtbBCBHr5ky9Y9dH7JXBbC3BUryPWWB4Jh8x9LhPaC6fFEX89-0Or-2XSBnDADPwAgOanLPQ-zj4g=s1920-w1920-h1080-p-k-no-nd-mv" alt="Flowers" /></p>
<h2 id="what-is--web-components-"><a class="header" href="#what-is--web-components-">What is  Web Components ?</a></h2>
<p><img src="img/c1/lwc-1.png" alt="lwc-1" /></p>
<ul>
<li>Custom Elements</li>
<li>Shadow DOM</li>
<li>HTML Template</li>
<li>ES Module</li>
</ul>
<h3 id="custom-elements"><a class="header" href="#custom-elements">Custom Elements</a></h3>
<ul>
<li>Designing and using new types of DOM elements that are fully-featured and conforming.</li>
<li>Authors can define behaviors and styles for new HTML elements.</li>
<li>Types of Custom Elements
<ul>
<li>
<p>Autonomous custom elements</p>
<ul>
<li>Have none of the semantics of existing HTML elements</li>
<li>All behaviors need to be defined by the author of the custom element.</li>
</ul>
<pre><code class="language-js">class AutonomousButton extends HTMLElement {
...
}
customElements.define(&quot;autonomous-button&quot;, AutonomousButton);
</code></pre>
<pre><code class="language-html">&lt;autonomous-button&gt;Click Me :)&lt;/autonomous-button&gt;
</code></pre>
</li>
<li>
<p>Customized built-ins elements (Spec is work-in-progress, Only Chrome supports now)</p>
<ul>
<li>Extend existing HTML elements with custom functionality.</li>
<li>Inherit semantics from the elements they extend.</li>
</ul>
<pre><code class="language-js">class CustomizedButton extends HTMLButtonElement {
...
}
customElements.define(&quot;customized-button&quot;, CustomizedButton,
                      { extends: &quot;button&quot; });
</code></pre>
<pre><code class="language-html">&lt;button is=&quot;customized-button&quot;&gt;Click Me :)&lt;/button&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="shadow-dom"><a class="header" href="#shadow-dom">Shadow DOM</a></h3>
<ul>
<li>The DOM (Document Object Model) is a representation of the structure of an html document. The DOM models a document as a tree, with elements in parent-child relationships.</li>
<li><img src="img/c1/dom-tree-1.png" alt="DOM Tree" /></li>
<li>DOM API contains no support for encapsulation. This makes it hard to develop <strong>custom elements</strong> 
<ul>
<li>Style information may <strong>leak</strong> into or out of other elements in the tree</li>
<li>IDs may overlap between custom elements and other elements in the document.</li>
</ul>
</li>
<li>Shadow DOM allows us to attach  <strong>encapsulated DOM subtrees</strong> to elements in a web document.
<ul>
<li>Style information inside them <strong>cannot apply</strong> to outside elements, and vice versa.</li>
</ul>
<pre><code class="language-js">const header = document.createElement('header');
const shadowRoot = header.attachShadow({mode: 'open'});
shadowRoot.innerHTML = `&lt;h1&gt;Hello Shadow DOM&lt;/h1&gt;`;
</code></pre>
</li>
<li><a href="http://localhost:3000/code/c1/shadowDom.html">Shadow DOM Example</a></li>
<li>By default, if an element has shadow DOM, the shadow tree is rendered instead of the element's children.</li>
<li>To allow children to render, you need to add placeholders for them in your shadow tree. To do this in shadow DOM:</li>
</ul>
<pre><code class="language-html">&lt;!-- shadow tree for &lt;my-header&gt; --&gt;
&lt;header&gt;
   &lt;h1&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/h1&gt;
   &lt;button&gt;Menu&lt;/button&gt;
&lt;/header&gt;
</code></pre>
<pre><code class="language-html">&lt;my-header&gt;Shadow DOM&lt;/my-header&gt;
</code></pre>
<ul>
<li>The header renders as if the <slot> element was replaced by the children:</li>
</ul>
<pre><code class="language-html">&lt;my-header&gt;
  &lt;header&gt;
     &lt;h1&gt;Shadow DOM&lt;/h1&gt;
     &lt;button&gt;Menu&lt;/button&gt;
  &lt;/header&gt;
&lt;/my-header&gt;

</code></pre>
<ul>
<li>Each LWC has a shadow DOM tree attached</li>
</ul>
<h2 id="lwc-offers"><a class="header" href="#lwc-offers">LWC offers</a></h2>
<p><img src="https://lh5.googleusercontent.com/proxy/8vptWyDBwmB3cEHugibR8UdQw1fcfS_WOSDRqKvX0qBboXptrqPkKOMqfmupQmfLEO4yfUqRMUoRP_v4JjH1jD9YRkMmh_3BfO27JxK97QvpjjDvA6QCPsXCvk2oizjwklIZwzRYYwiOmTGHKt3-6ZIokw25QI3g1jaC_5ffrL-gQjm5PCZ6kVg3sXQzBSigt9vruJqpaeYMC37S1Y20H706aMDKOKbqJn7eWe7m3iK_7cN1Cfj0Dj6kG3dPz4w=s1920-w1920-h1080-p-k-no-nd-mv" alt="nice world" /></p>
<p><img src="img/c1/lwc-2.png" alt="lwc offers" /></p>
<h2 id="lwc-component-is-composed-of-three-files"><a class="header" href="#lwc-component-is-composed-of-three-files">LWC component is composed of three files</a></h2>
<ul>
<li>
<ol>
<li>HTML template </li>
</ol>
<ul>
<li>From HTML Template spec (Greeting.html)</li>
</ul>
</li>
</ul>
<pre><code class="language-html">&lt;template&gt;
     &lt;p&gt;Welcome to LWC!&lt;/p&gt;
     &lt;p&gt;{msg.morning}&lt;/p&gt;
     &lt;p&gt;{equation}&lt;/p&gt;
&lt;/template&gt;
</code></pre>
<pre><code>- It will be rendered like this: (kebab-case)
</code></pre>
<pre><code class="language-html">        &lt;c-greeting&gt;
            &lt;p class='heading'&gt;Welcome to LWC!&lt;/p&gt;
            &lt;p&gt;{msg.morning}&lt;/p&gt;
            &lt;p&gt;{equation}&lt;/p&gt;
        &lt;/c-greeting&gt;


</code></pre>
<ul>
<li>
<ol start="2">
<li>Javascript file (Greeting.js)</li>
</ol>
<ul>
<li>ES6 Modules spec (import, export)</li>
<li>Custom Element Spec (LightningElement)</li>
</ul>
</li>
</ul>
<pre><code class="language-js">import { LightningElement } from 'lwc';
export default class Greeting extends LightningElement {
    msg =  { morning: 'All great things are simple!',
             evening: 'A person who never made a mistake never tried anything new!'
           } // attribute

    get equation() { // you can do calculations in getters
        return 'e=mc**2';
    }

}

</code></pre>
<ul>
<li>
<ol start="3">
<li>metadata file ( to deploy the component into the Salesforce Platform)</li>
</ol>
</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;LightningComponentBundle xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;apiVersion&gt;51.0&lt;/apiVersion&gt;
    &lt;isExposed&gt;false&lt;/isExposed&gt;
&lt;/LightningComponentBundle&gt;

- 4. CSS
```css
.heading {
    font-size:30px;
}
</code></pre>
<ul>
<li><a href="https://webcomponents.dev/edit/bGdrbd1FgVFX9tXS7Ubb/src/app.html">Greeting in Playground</a></li>
<li><a href="https://developer.salesforce.com/docs/component-library/overview/components">LWC base components</a></li>
<li><a href="https://www.lightningdesignsystem.com/">Lightning Design System</a>
<ul>
<li>Styles are scoped for the component
<ul>
<li>Styles defined for the parent component will not affect its child components (shadow DOM)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="practice"><a class="header" href="#practice">Practice</a></h2>
<ul>
<li>Kovai-Contact
<ul>
<li>WC
<ul>
<li><a href="https://webcomponents.dev/edit/IJgOSRDGGgLfBttpm68W/src/index.js">wc - Kovai-Contact component in Playground</a></li>
<li><a href="https://webcomponents.dev/edit/77FkRghy5tt4ikhnUnge/src/index.js">wc - Kovai-Contact component with SVG in Playground</a></li>
</ul>
</li>
<li>LWC
<ul>
<li><a href="https://webcomponents.dev/edit/Mdnsri52E4oYwk4gv7YU/src/app.html">lwc - Kovai-Contact component in Playground</a></li>
<li><a href="https://webcomponents.dev/edit/eCOqgjCZEvP30GkAeuop/src/app.js">REST and datatable with Filter</a></li>
<li><a href="https://webcomponents.dev/edit/vGuQip2diPJ5QoPiEvvs/src/app.js">Playing with button and images</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li><a href="https://www.webcomponents.org/specs">Web Components Spec</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">MDN Web components</a></li>
<li><a href="https://www.youtube.com/watch?v=YBwgkr_Sbx0">Web Components: The Secret Ingredient Helping Power The Web</a></li>
<li><a href="https://www.youtube.com/watch?v=PCWaFLy3VUo">Web Components Crash Course</a></li>
</ul>
<h3 id="custom-elements-1"><a class="header" href="#custom-elements-1">Custom Elements</a></h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=6rK3AyxE-54&amp;t=3s">Custom Elements &amp; HTML Templates | Developer Quick Takes </a></li>
</ul>
<h3 id="shadow-dom-1"><a class="header" href="#shadow-dom-1">Shadow DOM</a></h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=K5i9zMzVlzM">Explaining the Shadow DOM | Developer Quick Takes</a></li>
</ul>
<h3 id="use-anywhere"><a class="header" href="#use-anywhere">Use anywhere</a></h3>
<ul>
<li><a href="https://developer.salesforce.com/blogs/2020/12/build-connected-apps-anywhere-using-lightning-base-components.html">Build Connected Apps Anywhere Using Lightning Base Components</a></li>
<li><a href="https://trailhead.salesforce.com/en/content/learn/trails/build-apps-lightning-web-components-open-source">Build Apps with Lightning Web Components Open Source</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="practice---stock-quote-component"><a class="header" href="#practice---stock-quote-component">Practice - Stock Quote Component</a></h1>
<p><img src="https://lh5.googleusercontent.com/proxy/aj67cLMQ-Ybx3DUKTiUAQd_ilyatWpdT0V5KZ6n_7jJEKZ1KC-0I87d9yvpe3ro2KpAP2v485eBaVyeiicitrseOwZxfORqddFjt8Gw0bEC6TJso91ISWXrNBdlmkQt555cXrRWh7tgPajwYD5G8ZzHfmrBjo8uUnPSRAKxfhUSDjFmoxx7g4cO_RNqo0GdTEna5QDehEhI-xi2dvRdilL8QuWO-oKWTR78XoKSu7qGqttisAM3xiPNWEqbJkpxM-VTggN5rnJ_6=s1920-w1920-h1080-fcrop64=1,00001999fffff3c7-k-no-nd-mv" alt="path" /></p>
<h2 id="learning-objective"><a class="header" href="#learning-objective">Learning Objective:</a></h2>
<ul>
<li>Build a component that will render the stock quote. - 5 mins</li>
<li>Invoke Rest API</li>
</ul>
<h2 id="hands-on--20-mins"><a class="header" href="#hands-on--20-mins">Hands-on : 20 mins.</a></h2>
<ul>
<li>Invoke Rest API</li>
<li>Data Rendering</li>
</ul>
<h2 id="requirements"><a class="header" href="#requirements">Requirements:</a></h2>
<ol>
<li>You are given a list of Stock symbols and qty </li>
<li>Render them in cards as well as in datatable</li>
<li>Make REST serives to get the real-time quote for those symbols
<ul>
<li>Register at <a href="https://finnhub.io/">finnhub</a> to get the free api Key</li>
</ul>
</li>
</ol>
<p><img src="practice/../img/c1/p1-1.png" alt="screen for the solution" /></p>
<h2 id="playground"><a class="header" href="#playground">Playground</a></h2>
<ul>
<li><a href="https://webcomponents.dev/edit/XyLnPG1inddixLHtqmwN/src/app.js">Building Stock Quote component</a></li>
</ul>
<h2 id="prep-for-next-session-session-3-20-mins"><a class="header" href="#prep-for-next-session-session-3-20-mins">Prep for next session (Session-3): 20 mins</a></h2>
<p><img src="https://lh6.googleusercontent.com/proxy/CTHQkQWbT0wYQm_v4J9jZid5DX6qV4QIDKhzj8EiqoG8ip7o_cSxGsQI17A5sRNSFCooVDUH8VHFYYFgF-Y1SFMgvwSeY7MyxEZIIHqktG4EBeH4b-LjLnlVGPGIaDbp3Bp8Ymg4ese1KzH5VX7SYBuRsofuO8BiL01RUYtalv2QMx9txJVos6_q5Eo37YNT_xcTKQtybkxXE3aM3DB1FgVL8F7Ber0el_-8aKM=s1920-w1920-h1080-fcrop64=1,000023d6fffffe04-k-no-nd-mv" alt="next" /></p>
<ul>
<li>
<p>Developer Org setup</p>
<ul>
<li><a href="https://developer.salesforce.com/signup">Get your very own Developer Edition</a></li>
</ul>
</li>
<li>
<p>Whitelisting the url (https://finnhub.io) in your org</p>
<ul>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_callouts_remote_site_settings.htm">Adding Remote Site Settings</a></li>
</ul>
</li>
<li>
<p>VS Code Setup</p>
<ul>
<li><a href="https://trailhead.salesforce.com/en/content/learn/projects/quick-start-lightning-web-components/set-up-visual-studio-code">Set Up Visual Studio Code</a></li>
</ul>
</li>
<li>
<p>SFDX setup</p>
<ul>
<li><a href="https://trailhead.salesforce.com/en/content/learn/modules/sfdx_app_dev/sfdx_app_dev_setup_dx">Set Up Salesforce DX</a></li>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/dx.html#/home">SFDX Tutorial</a></li>
</ul>
</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="lwc-vs-aura"><a class="header" href="#lwc-vs-aura">LWC vs Aura</a></h1>
<p><img src="https://lh5.googleusercontent.com/proxy/wu5PLlVoRpgHMWz3tMImQqZvcSfDi9yLv_U0VcXS0ANV3j9egb3wbWjO1MO1Mt1FUOkU8f4g0k0vR-C7zRIH7ygVYCZbakKCjylzNV9qrz9TYCd_L2CHE_pYoK6S_vAKId2NiEadxzNcMNjXYY4-9T4jQvy1Cg7EWyKqfA4iAIknM3xSz8hCpk1vrL-Zk6DvgvsGCjlMIYwJEdlDWoaUR6HEb5eXbrnDHjyY-HGZIES8GHnYJi6Zi52XTxHFUnBNljxlggM=s1920-w1920-h1080-p-k-no-nd-mv" alt="compare" /></p>
<ul>
<li>Aura framework needed to implement a proprietary component model, proprietary language extensions, and proprietary modules.</li>
<li>LWC uses web stack features implemented natively by browsers, which means that LWC apps are substantially more performant.</li>
<li>LWC supports
<ul>
<li>ECMAScript 6 version (also known as ES6 or ES2015)</li>
<li>modules, classes, promises, template literals, arrow functions</li>
</ul>
</li>
<li>One difference between ** LWC and standard Web Components** is TIME-TO-VALUE:
<ul>
<li>the amount of code that you have to write to create a component</li>
<li>To create a component with LWC, you just write a few lines of code, and then the <strong>LWC compiler</strong> will transform that code, adding the <strong>necessary boilerplate code</strong> so that those become, at the end, Web Components. </li>
</ul>
</li>
</ul>
<table nowrap>
<tr><th></th><th>Aura</th><th>LWC</th></tr>
<tr><td>Summary</td><td>Verbose</td><td>Less Verbose, more configurable, easier to understand, test, and refactor in the long-term</td></tr>
<tr><td>Developer tooling</td><td>Developer Console</td><td>VS Code with Extension Pack
<img src='https://miro.medium.com/max/1400/1*BUE0WVd7Dooc3lz1rX6c_A.png'/>
<hr/> Deploy code to Salesforce environments using  Salesforce CLI (SFDX)
</td></tr>
<tr>
<td>Conventions</td><td> specific to aura framework</td>
<td>HTML, CSS, or JavaScript</td>
</tr>
<tr>
<td>Component</td>
<td>.cmp file</td><td>.HTML file</td>
</tr>
<tr>
<td>Events</td>
<td>Custom Aura Events<br>
- have to be registered in the markup,
<pre>
// aura:handler name="init" value="{!this}" action="{!c.doInit}"
({
    doInit : function(component, event, helper) {
        var action = component.get("c.findProperties");
        action.setParams({
            recordId: component.get("v.recordId"),
            priceRange: "100000"
        });
        action.setCallback(this, function(response){
            var similarProperties = response.getReturnValue();
            component.set("v.similarProperties", similarProperties);
        });
        $A.enqueueAction(action);
    }
})
</pre>
</td><td> <a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.events'>standard DOM events</a>
<br>
- events simply need to be <a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.events_create_dispatch'>fired</a> in JavaScript<br/>
<pre>
	lightning-button variant="brand" label="Get Time" title="Get Time" onclick={handleGetTimeClick}
<p>async handleGetTimeClick() {
this.timeData = await this.getTime();
}<br />
</pre>
<a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.events_handling'>Events Handling</a></p>
</tr>
<tr>
<td>Attributes </td>
<td>Defined in .cmp markup
   <pre> 
   aura:attribute name="title" 
    type="String" 
    default="Kovai Contact"
   </pre>
</td>
<td> Fields or properties<br/>In component javascript file (extends LightningElement which extends HTMLElement)<br/>
<pre>
export default class KovaiContact extends LightningElement {
  title = "Kovai Contact";
}
</pre>
</td>
</tr>  
<tr><td>Reactivity</td>
<td>To trigger a component re-render, attributes need to be set explicitly using cmp.set()</td>
<td> When you change a class property, the framework implicitly understands that a re-render is needed.<br/>
 The two situations LWC doesn't observe by default for <a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.reactivity_fields'> performance reasons</a>: 
 <br/> 1. changes in array elements <br/>2. changes in object properties.
 <br/>  To tell the framework to observe changes to the properties of an object or to the elements of an array, decorate the field with @track.
</td>
</tr>
<tr>
<td>Integration with the platform</td>
<td>cmp-meta.xml file</td><td><a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.create_components_meta_file'>Metadata file js-meta.xml</a></td>
</tr>
<tr>
<td><a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.create_lifecycle_hooks'</a>Component Life Cycle</td>
<td> most lifecycle events propagated from child to parent</td><td>lifecycle events propagated from parent to child</td>
</tr>
<tr>
<td>Data Binding</td>
<td> bidirectional</td>
<td>unidirectional</td>
</tr>
<tr>
<td> communicate between components in different DOM hierarchies
</td>
<td> Application Events</td>
<td><a href='https://developer.salesforce.com/docs/component-library/bundle/lightning-message-service/documentation'>Lightning message service</a>
<br/>
- enables us to publish and subscribe to messages on a message channel
<img src='https://miro.medium.com/max/1400/1*rq34aCyvDq1KoOf2WIutOA.gif'/>
</td>
</tr>
<tr>
<td> Lightning Data Service<br/>
 Cache is shared among Aura and LWC components
 <br/>
 Provides access to Salesforce data and metadata without having to go in-depth to understand the particular customizations of an organization or write Apex.
</td>
<td> Available</td>
<td>unidirectional
<br/>
base form components, wire adapters and functions, and Apex
</td>
</tr>
<tr>
<td>Unit Testing</td>
<td> Hard</td>
<td>Easy with <a href='https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.testing'>Jest</td>
</tr>
</table>
<h2 id="migrate-or-not-from-aura-to-lwc"><a class="header" href="#migrate-or-not-from-aura-to-lwc">Migrate or not from Aura to LWC</a></h2>
<ul>
<li>Lightning Message Service can be used to communicate between Aura components and LWC. So, ideally, you could extend your existing Lightning pages in App Builder with LWC even if most of the components are written in Aura.</li>
<li>Lightning Data Service shares its cache between Aura and LWC. This means components can synchronize data, regardless of which framework they’re written in.</li>
<li>Aura components can include LWC. As a result, you can extend the functionality of an existing Aura component by writing the new bit of code in a child LWC component.</li>
<li>JavaScript code can be easily shared between Aura components and LWC.</li>
<li><a href="https://trailhead.salesforce.com/live/videos/a2r3k000001n2cR/make-the-move-from-aura-to-lwc-what-you-need-to-know/">Video:Make the Move From Aura to LWC-What You Need To Know</a></li>
</ul>
<h2 id="should-move-to-lwc-from-aura"><a class="header" href="#should-move-to-lwc-from-aura">Should move to LWC from Aura</a></h2>
<ul>
<li>When you have an Aura component (or application) that’s experiencing poor performance. The significant performance boosts with LWC might help users struggling with an app that feels unresponsive or slow in Aura.</li>
<li>When you want to use platform features that only support LWC, such as custom property editors in Flow.</li>
</ul>
<h2 id="new-components-lwc-or-aura"><a class="header" href="#new-components-lwc-or-aura">New Components LWC or Aura</a></h2>
<ul>
<li>LWC!</li>
</ul>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<p><a href="https://medium.com/salesforce-architects/lwc-vs-aura-what-architects-need-to-know-695af25e4535#:%7E:text=In%20other%20words%2C%20conventions%20in,HTML%2C%20CSS%2C%20or%20JavaScript.&amp;text=html%20file.,you%20use%20standard%20DOM%20events.">LWC vs. Aura: What Architects Need to Know</a></p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="development-environment"><a class="header" href="#development-environment">Development Environment</a></h1>
<p><img src="https://lh5.googleusercontent.com/proxy/b2lbv_KnPmFAPQN3YNFd2xdZjD5PXkHup0Hdi8OR9ddtyvxsm94HLWYlQQPtSTepsWlVa71OZiZhMDGXYsGLEN5shgH-o8v4mfKM30MBi7fBoFmkuWakLPpuQEU51vC0swtnUjRPigM5zMORA5BsIXgc2K9IdOK15BJbtdLXNPhE4-mygXH9PU6SyuWuOtaObdeU40d8ESV0qJIJDxsIRR8tdbeg7eGcZ1iiE1kxk8xyvb_6SYrcfiHvjRR9Pe18To8jL2a3k4x_r_L8Szl8787X=s1920-w1920-h1080-p-k-no-nd-mv" alt="falls" /></p>
<h2 id="create-a-sfdx-project"><a class="header" href="#create-a-sfdx-project">Create a sfdx project</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/dx.html#/37">CREATE A SALESFORCE DX PROJECT</a></li>
</ul>
<h2 id="file-structure"><a class="header" href="#file-structure">File Structure</a></h2>
<ul>
<li>Create sfdx  project kovai</li>
</ul>
<pre><code> sfdx force:project:create -n kovai

</code></pre>
<ul>
<li>Project file</li>
</ul>
<pre><code>$ cat kovai/config/project-scratch-def.json 
{
  &quot;orgName&quot;: &quot;mchinnappan company&quot;,
  &quot;edition&quot;: &quot;Developer&quot;,
  &quot;features&quot;: [&quot;EnableSetPasswordInApi&quot;],
  &quot;settings&quot;: {
    &quot;lightningExperienceSettings&quot;: {
      &quot;enableS1DesktopEnabled&quot;: true
    },
    &quot;mobileSettings&quot;: {
      &quot;enableS1EncryptedStoragePref2&quot;: false
    }
  }
}
</code></pre>
<ul>
<li>create contactCard lwc component <strong>contactCard</strong></li>
</ul>
<pre><code>$ cd kovai
$ cat create_lwc.sh 
sfdx force:lightning:component:create -n contactCard --type lwc -d lwc/main/default/lwc/

</code></pre>
<ul>
<li>Folder structure </li>
</ul>
<pre><code>$ tree kovai
kovai
├── README.md
├── config
│   └── project-scratch-def.json
├── contactCard-1.png
├── create_lwc.sh
├── deploy_lwc.sh
├── lwc
│   └── main
│       └── default
│           ├── applications
│           ├── aura
│           ├── classes
│           ├── contentassets
│           ├── flexipages
│           ├── layouts
│           ├── lwc
│           │   └── contactCard
│           │       ├── contactCard.html
│           │       ├── contactCard.js
│           │       └── contactCard.js-meta.xml
│           ├── objects
│           ├── permissionsets
│           ├── staticresources
│           ├── tabs
│           └── triggers
├── package.json
├── scripts
│   ├── apex
│   │   └── hello.apex
│   └── soql
│       └── account.soql
└── sfdx-project.json



</code></pre>
<ul>
<li>Edit the component files 
<ul>
<li>Markup: contactRecord.html</li>
</ul>
</li>
</ul>
<pre><code class="language-xml">
&lt;template&gt;
    &lt;lightning-card title=&quot;Contact Record&quot; icon-name=&quot;standard:contact&quot;&gt;
        &lt;template if:true={contact.data}&gt;
            &lt;div class=&quot;slds-m-around_medium&quot;&gt;
                &lt;p&gt;{name}&lt;/p&gt;
                &lt;p&gt;{title}&lt;/p&gt;
                &lt;p&gt;&lt;lightning-formatted-phone value={phone}&gt;&lt;/lightning-formatted-phone&gt;&lt;/p&gt;
                &lt;p&gt;&lt;lightning-formatted-email value={email}&gt;&lt;/lightning-formatted-email&gt;&lt;/p&gt;
            &lt;/div&gt;
        &lt;/template&gt;
    &lt;/lightning-card&gt;
&lt;/template&gt;

</code></pre>
<pre><code>- Javascript : contactRecord.js
</code></pre>
<pre><code class="language-js">import { LightningElement, api, wire } from 'lwc';
import { getRecord } from 'lightning/uiRecordApi';

const FIELDS = [
    'Contact.Name',
    'Contact.Title',
    'Contact.Phone',
    'Contact.Email',
];

export default class WireGetRecordDynamicContact extends LightningElement {
    @api recordId;

    // Let’s use the wire service to get record data and display some field names.

    @wire(getRecord, { recordId: '$recordId', fields: FIELDS })
    contact;

    get name() {
        return this.contact.data.fields.Name.value;
    }

    get title() {
        return this.contact.data.fields.Title.value;
    }

    get phone() {
        return this.contact.data.fields.Phone.value;
    }

    get email() {
        return this.contact.data.fields.Email.value;
    }
}

</code></pre>
<pre><code>- Metadata file : contactRecord.js-meta.xml 
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;LightningComponentBundle xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;apiVersion&gt;51.0&lt;/apiVersion&gt;
    &lt;isExposed&gt;true&lt;/isExposed&gt;

    

    &lt;targets&gt;
        &lt;target&gt;lightning__RecordPage&lt;/target&gt;
        &lt;target&gt;lightning__AppPage&lt;/target&gt;
        &lt;target&gt;lightning__HomePage&lt;/target&gt;
    &lt;/targets&gt;


&lt;/LightningComponentBundle&gt;

</code></pre>
<ul>
<li>Deploy to the org after you logged into the org with:</li>
</ul>
<pre><code>$ sfdx force:auth:web:login

</code></pre>
<pre><code>sfdx force:source:deploy -u mohan.chinnappan.n_ea2@gmail.com -p lwc/main/default/lwc/contactCard
</code></pre>
<ul>
<li>Edit the Contact Home Page</li>
</ul>
<p><img src="img/c3/editPage-1.png" alt="Edit Contact Home Page" /></p>
<ul>
<li>Update Contact Home Page 
<ul>
<li>Supplies recordId
<img src="img/c3/contactCard-1.png" alt="Contact Home Page" /></li>
</ul>
</li>
</ul>
<p><a name='lwctcrm'></a></p>
<h2 id="using-lwc-in-tcrm"><a class="header" href="#using-lwc-in-tcrm">Using LWC in TCRM</a></h2>
<p><img src="img/c3/tcrm-lwc-2.gif" alt="LWC in TCRM" /></p>
<h3 id="lwc-with-a-step-in-tcrm"><a class="header" href="#lwc-with-a-step-in-tcrm">LWC with a Step in TCRM</a></h3>
<p><img src="img/c3/tcrm-db-lwc-1.gif" alt="LWC in TCRM with a step" /></p>
<h3 id="code-generator-for-lwc-with-a-step-in-tcrm"><a class="header" href="#code-generator-for-lwc-with-a-step-in-tcrm">Code generator for LWC with a Step in TCRM</a></h3>
<p><img src="img/c3/tcrm-db-lwc-3.gif" alt="LWC in TCRM with a step - codegen" /></p>
<h2 id="using-modals-in-lwc"><a class="header" href="#using-modals-in-lwc">Using Modals in LWC</a></h2>
<ul>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/FSCConfigUI/tree/master/FA">Playground - Component to show the Financial Accounts in FSC</a></p>
</li>
<li>
<p><a href="https://webcomponents.dev/edit/KN7WTWkxd8pnOfUL8KjQ/src/app.js">Playground - Using HTML table, onmouseout, mouseover</a></p>
</li>
<li>
<p><a href="https://webcomponents.dev/edit/XDq1O4AcIXIhe3ucqSCF/src/app.js">Playground - Accordion Sample</a></p>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/lwc/img/lwc-mouse-events-1.gif" alt="Demo" /></li>
</ul>
</li>
<li>
<p><a href="https://webcomponents.dev/edit/HtgzPSydIm9C6XaRZiCp/src/app.js">Playground - mouse over with custom accordion</a></p>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/lwc/img/lwc-mouse-events-2.gif" alt="Demo" /></li>
</ul>
</li>
</ul>
<h3 id="custom-events"><a class="header" href="#custom-events">Custom Events</a></h3>
<ul>
<li><a href="https://webcomponents.dev/edit/Nt7TcB5zDGUq0B85CUKH/src/app.js">Custom Events</a>
<a name='actionLWC'></a></li>
<li><a href="https://webcomponents.dev/edit/HwDe39HCmlcOVgvmKhGq/src/app.html">Custom Events with Fruits Data</a></li>
</ul>
<h3 id="customtypes-for-datatable"><a class="header" href="#customtypes-for-datatable">customTypes for datatable</a></h3>
<ul>
<li>
<p>with sorting, delete, row actions</p>
</li>
<li>
<p>filtering support</p>
</li>
<li>
<p>search support</p>
</li>
<li>
<p>Demo</p>
<ul>
<li><img src="img/c3/datatable-customTypes-1.gif" alt="custom types demo" /></li>
</ul>
</li>
<li>
<p>Playground</p>
<ul>
<li><a href="https://webcomponents.dev/edit/KHtd0NZiWAvm3QVNzU32/src/app.js">CustomTypes for datatable with Accordion</a></li>
</ul>
</li>
<li>
<p>Playground with pagination</p>
<ul>
<li><a href="https://webcomponents.dev/edit/y7recJr8e7bLJHmNza8Y/src/app.js">CustomTypes for datatable with Accordion with Pagination</a></li>
</ul>
</li>
</ul>
<h2 id="looking-at-navigator-object"><a class="header" href="#looking-at-navigator-object">Looking at navigator object</a></h2>
<ul>
<li><a href="https://webcomponents.dev/edit/ngSAOa7s5cvYMSU1H8ZC/src/app.html">Navigator object Playground</a></li>
</ul>
<h2 id="how-to-create-quick-actions-with-lightning-web-components"><a class="header" href="#how-to-create-quick-actions-with-lightning-web-components">How to Create Quick Actions with Lightning Web Components</a></h2>
<ul>
<li><a href="https://help.salesforce.com/articleView?id=release-notes.rn_lwc_quick_actions.htm&amp;type=5&amp;release=232">Create Quick Actions with Lightning Web Components (Generally Available) </a></li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;LightningComponentBundle xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   &lt;apiVersion&gt;52.0&lt;/apiVersion&gt;
   &lt;isExposed&gt;true&lt;/isExposed&gt;
   &lt;targets&gt;
       &lt;target&gt;lightning__RecordAction&lt;/target&gt;
   &lt;/targets&gt;
    &lt;targetConfigs&gt;
   &lt;targetConfig targets=&quot;lightning__RecordAction&quot;&gt;
     &lt;actionType&gt;Action&lt;/actionType&gt;
   &lt;/targetConfig&gt;
 &lt;/targetConfigs&gt;
&lt;/LightningComponentBundle&gt;

</code></pre>
<pre><code class="language-js">
import { LightningElement, api } from 'lwc';

export default class ContactAction extends LightningElement {
    @api invoke() {
        console.log(&quot;Hi, I'm an action.&quot;);
    }

}

</code></pre>
<pre><code class="language-html">
 &lt;template&gt;
   &lt;p&gt;LWC Action Test&lt;/p&gt; 
&lt;/template&gt;

</code></pre>
<p><img src="img/c3/lwc-action-1.png" alt="LWC Action" />
<img src="img/c3/lwc-action-2.png" alt="LWC Action" />
<img src="img/c3/lwc-action-3.png" alt="LWC Action" />
<img src="img/c3/lwc-action-4.png" alt="LWC Action" />
<img src="img/c3/lwc-action-pl.png" alt="LWC Action" />
<img src="img/c3/lwc-action-5.png" alt="LWC Action" />
<img src="img/c3/lwc-action-6.png" alt="LWC Action" />
<img src="img/c3/lwc-action-7.png" alt="LWC Action" />
<img src="img/c3/lwc-action-8.png" alt="LWC Action" /></p>
<ul>
<li><a href="https://help.salesforce.com/articleView?id=release-notes.rn_lwc_components.htm&amp;type=5&amp;release=232">New and Changed Lightning Web Components</a></li>
</ul>
<h2 id="references-1"><a class="header" href="#references-1">References</a></h2>
<ul>
<li><a href="https://bit.ly/sfvscode">VS Code with Salesforce Extensions</a></li>
<li><a href="https://sfdc.co/sfcli">Salesforce CLI</a></li>
<li><a href="https://sforce.co/2V6EKJm">Debugging config in org and Chrome Dev Tools</a></li>
<li><a href="https://sfdc.co/localdevserver">Local Dev Server</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="using-salesforce-data"><a class="header" href="#using-salesforce-data">Using Salesforce Data</a></h1>
<p><img src="https://lh5.googleusercontent.com/proxy/iNHooPwoVV7Lv-ORLHH7dU9tytVBf2Bxd__JXg0fP0cpOI66MO_3qADZDLqi5dYlkY85BWIbimz0krO3G6m7nOrwFsuc56JJcuzK3v4e0VkMFgm6v2_Ce7-oiD1JGTI7TtnmEh2MRJN9ecB73ng9yPvKx-IE5mSJPkgrfKq9N_FeoPAgIOludVY3wT-zGrLcsB7O9SF-3hS4e7pmydOenjC5PDbWlvd9MXe7MVrBiRK-b7BWjy_jjfF7TFWeKQWXlrg=s1920-w1920-h1080-fcrop64=1,000011ebffffec19-k-no-nd-mv" alt="Road" /></p>
<h2 id="code-generator-for-the-given-soql"><a class="header" href="#code-generator-for-the-given-soql">Code Generator for the given SOQL</a></h2>
<p><img src="img/data/lwc-code-gen-1.gif" alt="code-gen-soql" /></p>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<p><img src="img/data/lwc-code-gen-2.png" alt="codegen usage" /></p>
<h2 id="using-uirecordapi"><a class="header" href="#using-uirecordapi">Using uiRecordApi</a></h2>
<h3 id="component-markup-contacthtml"><a class="header" href="#component-markup-contacthtml">Component Markup Contact.html</a></h3>
<pre><code class="language-xml">&lt;template&gt;
    &lt;lightning-card title=&quot;Contact Record&quot; icon-name=&quot;standard:contact&quot;&gt;
        &lt;template if:true={contact.data}&gt;

                &lt;template for:each={contact.data} for:item=&quot;contact&quot;&gt;
                     &lt;p&gt;{id}&lt;/p&gt;&lt;p&gt;{name}&lt;/p&gt;
                &lt;/template&gt;

            &lt;div class=&quot;slds-m-around_medium&quot;&gt;
            &lt;/div&gt;
        &lt;/template&gt;
    &lt;/lightning-card&gt;
&lt;/template&gt;
</code></pre>
<h3 id="component-javascript-contactjs"><a class="header" href="#component-javascript-contactjs">Component Javascript: Contact.js</a></h3>
<pre><code class="language-js">import { LightningElement, api, wire } from 'lwc';
import { getRecord } from 'lightning/uiRecordApi';

const FIELDS = [ 'Contact.Id','Contact.Name', ];

export default class WireGetRecordContact extends LightningElement {
    @api recordId;

    // Let’s use the wire service to get record data and display some field names.

    @wire(getRecord, { recordId: '$recordId', fields: FIELDS })
    contact;


    get id() {
        return this.contact.data.fields.Id.value;
    }

    get name() {
        return this.contact.data.fields.Name.value;
    }


}
</code></pre>
<h3 id="component-metadata-contactjs-meta-xml"><a class="header" href="#component-metadata-contactjs-meta-xml">Component metadata Contact.js-meta-xml</a></h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;LightningComponentBundle xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;apiVersion&gt;51.0&lt;/apiVersion&gt;
    &lt;isExposed&gt;true&lt;/isExposed&gt;

    &lt;targets&gt;
        &lt;target&gt;lightning__RecordPage&lt;/target&gt;
        &lt;target&gt;lightning__AppPage&lt;/target&gt;
        &lt;target&gt;lightning__HomePage&lt;/target&gt;
    &lt;/targets&gt;

&lt;/LightningComponentBundle&gt;
</code></pre>
<h2 id="using-apex-controller"><a class="header" href="#using-apex-controller">Using Apex controller</a></h2>
<h3 id="apex-controller-opportunitycontrollercls"><a class="header" href="#apex-controller-opportunitycontrollercls">Apex Controller OpportunityController.cls</a></h3>
<pre><code class="language-java">// OpportunityController.cls
public with sharing class OpportunityController {    
    @AuraEnabled(cacheable=true)
    public static List&lt;Opportunity&gt; getOpportunityList() {
        return [
          SELECT Id,Name FROM Opportunity LIMIT 10
        ];
    }
}
</code></pre>
<h3 id="apex-controller-opportunitycontrollerclsmetaxml"><a class="header" href="#apex-controller-opportunitycontrollerclsmetaxml">Apex Controller OpportunityController.cls.meta.xml</a></h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;ApexClass xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;apiVersion&gt;51.0&lt;/apiVersion&gt;
    &lt;status&gt;Active&lt;/status&gt;
&lt;/ApexClass&gt;
</code></pre>
<h3 id="component-markup-opportunityhtml"><a class="header" href="#component-markup-opportunityhtml">Component Markup Opportunity.html</a></h3>
<pre><code class="language-html">&lt;template&gt;
    &lt;lightning-card title=&quot;Opportunity Datatable&quot; icon-name=&quot;standard:opportunity&quot;&gt;
        &lt;template if:true={opportunitys.data}&gt;
            &lt;lightning-datatable
            key-field=&quot;id&quot;
            data={opportunitys.data}
            columns={columns}&gt;
        &lt;/lightning-datatable&gt;

        &lt;/template&gt;
    &lt;/lightning-card&gt;
&lt;/template&gt;
</code></pre>
<h3 id="component-javascript-opportunityjs"><a class="header" href="#component-javascript-opportunityjs">Component Javascript: Opportunity.js</a></h3>
<pre><code class="language-js">import { LightningElement,  wire } from 'lwc';
import getOpportunityList from '@salesforce/apex/OpportunityController.getOpportunityList';


export default class ApexWireGetRecordsOpportunity extends LightningElement {

    columns = [{  label: 'Id', fieldName: 'Id' },
{  label: 'Name', fieldName: 'Name' },
];
    // Let’s use the apex wire service to get record data and display some field names.
    @wire(getOpportunityList)
    opportunitys;

}
</code></pre>
<h3 id="component-metadata-opportunityjs-meta-xml"><a class="header" href="#component-metadata-opportunityjs-meta-xml">Component metadata Opportunity.js-meta-xml</a></h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;LightningComponentBundle xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;apiVersion&gt;51.0&lt;/apiVersion&gt;
    &lt;isExposed&gt;true&lt;/isExposed&gt;

    &lt;targets&gt;
        &lt;target&gt;lightning__RecordPage&lt;/target&gt;
        &lt;target&gt;lightning__AppPage&lt;/target&gt;
        &lt;target&gt;lightning__HomePage&lt;/target&gt;
    &lt;/targets&gt;

&lt;/LightningComponentBundle&gt;
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="charting-data"><a class="header" href="#charting-data">Charting data</a></h2>
<p><img src="https://lh3.googleusercontent.com/proxy/RnphZHY4iEchFzNG-8ZlRZgxmCO1Avo283riJ_A6rj5io_qz-2kUFLj9iDt7aGqIjt2l_gLl3cmB63tJfeSJVsSwJu3Vlft2eUZlFmytfSZws2q3ebUSYrcQAt_oflWMFVZT0a9Zg7KJSIWOvWKnvlGE8ZIMtN1CdPPFjHMZ80W0JhbZaJQ0jK5t1nd4UdKuE6-MfC7GlLn76Oh7q7tyiPur9dfjw2Qt-LnX1fCJBPzk=s1920-w1920-h1080-fcrop64=1,00001999fffff3c7-k-no-nd-mv" alt="butterfly" /></p>
<h3 id="playing-with-html-canvas-api"><a class="header" href="#playing-with-html-canvas-api">Playing with HTML Canvas API</a></h3>
<p><img src="img/c5/lwc-charts-1.png" alt="LWC chart with canvas" /></p>
<ul>
<li>
<p><a href="https://webcomponents.dev/edit/HGxkVhtEqT8EpNfybBbH/src/child.js">Playground: Pie Chart the stock positions</a></p>
</li>
<li>
<p><a href="https://webcomponents.dev/edit/PZdfXHuUH8sq8ItGTf9t/src/piechart.html">Pie Chart component</a></p>
</li>
</ul>
<h2 id="links"><a class="header" href="#links">Links</a></h2>
<ul>
<li><a href="https://salesforcelabs.github.io/LightningWebChartJS/docs/api/chart.html">Lightning Web Chart.js Component</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="4-decorators"><a class="header" href="#4-decorators">4. Decorators</a></h1>
<p><img src="https://lh3.googleusercontent.com/proxy/eOHv5X1Nd1J-w-OpN9HK6UqhZnt0ZStwYJ3dcW0cmpzQvle9LzU6IOSNUK7LI9mT8-Lcvk1Ml1Jwz_ZJMCwouufGIfAKS-wAGp10osliJzT414QBoKrj7DAcq0qdWu3FgvNlj2FyEd2sCAQcWX3wSI2V7u_Vgb5CKG3-6heknxIW-LgfWowBJrSJUn7Fce3MgRZbOZ98qENcebBYzQLI1YxLkZa5CaSLudphl0FJleNkxXCCXA9yPUpQVYDdx_DyxJzy=s1920-w1920-h1080-fcrop64=1,00001999fffff3c7-k-no-nd-mv" alt="water falls" /></p>
<ul>
<li>A decorator is simply a way of wrapping a function/object with another function/object to extend its existing capabilities </li>
<li>It can be used to enhance the behavior of an object without requiring the author to reopen its class.</li>
<li>Provides a flexible alternative to sub-classing for extending functionality.</li>
<li>Decorators allow you to write cleaner code and achieve composition. </li>
</ul>
<h2 id="function-decorators"><a class="header" href="#function-decorators">Function Decorators</a></h2>
<ul>
<li>Receive a function as an argument and return another function that enhances and extends the function argument.</li>
<li>The new function does not modify the function argument, but rather uses the function argument in its body.</li>
</ul>
<pre><code class="language-js">
//decorator function
const allArgsValid = function(fn) {
  return function(...args) {
  if (args.length != fn.length) {
      throw new Error('Only submit required number of params');
    }
    const validArgs = args.filter(arg =&gt; Number.isInteger(arg));
    if (validArgs.length &lt; fn.length) {
      throw new TypeError('Argument cannot be a non-integer');
    }
    return fn(...args);
  }
}

//ordinary multiply function
let multiply = function(a,b){
	return a*b;
}

//decorated multiply function that only accepts the required number of params and only integers
multiply = allArgsValid(multiply);

multiply(6, 8);
//48

multiply(6, 8, 7);
//Error: Only submit required number of params

multiply(3, null);
//TypeError: Argument cannot be a non-integer

multiply('',4);
//TypeError: Argument cannot be a non-integer

</code></pre>
<h3 id="the-lightning-web-components--programming-model-has-three-decorators-that-add-functionality-to-a-property-or-function"><a class="header" href="#the-lightning-web-components--programming-model-has-three-decorators-that-add-functionality-to-a-property-or-function">The Lightning Web Components  programming model has <em>three</em> decorators that add functionality to a property or function.</a></h3>
<h2 id="api"><a class="header" href="#api">@api</a></h2>
<p>To expose a public property, decorate a field with @api. Public properties define the API for a component.</p>
<pre><code> @something prop;
 ----------
 decorator
            -----
            Property
</code></pre>
<pre><code> @something doSomething(){};
 ----------
 decorator
            -----
            Method
</code></pre>
<ul>
<li>exposes a property as public</li>
<li>exposes a method as public</li>
</ul>
<pre><code class="language-js">import {LightningElement, api} from 'lwc';

export default class KovaiContact extends LightningElement {
    @api recordId;
}

</code></pre>
<h2 id="track"><a class="header" href="#track">@track</a></h2>
<ul>
<li>Fields are reactive. If a field’s value changes, and the field is used in a template or in a getter of a property that’s used in a template, the component <strong>rerenders</strong> and displays the new value.</li>
<li>When a field contains <strong>an object or an array</strong> say <code> names = ['Einestein', 'Ramanujan']</code>
there’s a <strong>limit to the depth of changes that are tracked</strong>. 
<ul>
<li>To tell the framework to <strong>observe changes</strong> to the properties of an object or to the elements of an array, decorate the field with <code>@track</code>.</li>
</ul>
</li>
</ul>
<h2 id="wire"><a class="header" href="#wire">@wire</a></h2>
<ul>
<li>To read Salesforce data, LWCs use a <strong>reactive wire service</strong>.
<ul>
<li>When the wire service provisions data, the component rerenders.</li>
</ul>
</li>
</ul>
<h3 id="wire-service"><a class="header" href="#wire-service">Wire Service</a></h3>
<ul>
<li>The wire service provisions <strong>an immutable stream of data</strong> to the component. Each value in the stream is a newer version of the value that precedes it.</li>
<li>To mutate the data, a component should make a shallow copy of the objects it wants to mutate</li>
<li>The wire service delegates control flow to the Lightning Web Components engine.
<ul>
<li>Great for read operations, but it isn’t great for create, update, and delete operations. </li>
</ul>
</li>
</ul>
<pre><code class="language-java">public with sharing class ContactController {
    @AuraEnabled(cacheable=true)
    public static List&lt;Contact&gt; getContactList() {
        return [
            SELECT Id, Name, Title, Phone, Email, Picture__c
            FROM Contact
            WHERE Picture__c != NULL
            WITH SECURITY_ENFORCED
            LIMIT 10
        ];
    }
}

//  WITH SECURITY_ENFORCED:  https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_classes_with_security_enforced.htm

</code></pre>
<pre><code class="language-html">&lt;template&gt;

 &lt;div class=&quot;slds-var-m-around_medium&quot;&gt;
            &lt;template if:true={contacts}&gt;
                &lt;template for:each={contacts} for:item=&quot;contact&quot;&gt;
                    &lt;p key={contact.Id}&gt;{contact.Name}&lt;/p&gt;
                &lt;/template&gt;
            &lt;/template&gt;
 &lt;/div&gt;
&lt;/template&gt;

</code></pre>
<pre><code class="language-js">import { LightningElement, wire } from 'lwc';

// import { adapterId } from 'adapterModule';
// adapterModule format:  namespace/moduleName

// To import a reference to an object:
//     import ACCOUNT_OBJECT from '@salesforce/schema/Account';

// To import a reference to a field: 
//     import FIELD_NAME from '@salesforce/schema/object.field';

// To import a reference to a field via a relationship:
//      import SPANNING_FIELD_NAME from '@salesforce/schema/object.relationship.field';


import getContactList from '@salesforce/apex/ContactController.getContactList';

export default class ContactsMgr extends LightningElement {

    contacts;
    error;

    //@wire(adapterId, adapterConfig)
    // propertyOrFunction;
    @wire(getContactList)
     wiredContacts ({ error, data}) {
         // the results are returned to the property’s data property or error property. 
         if (data) {
            this.contacts = data;
            this.error = undefined;
        } else if (error) {
            this.error = error;
            this.contacts = undefined;
        }

     }
}

</code></pre>
<h3 id="another-example-for-wire"><a class="header" href="#another-example-for-wire">Another example for @wire</a></h3>
<pre><code class="language-js">import { LightningElement, api, wire } from 'lwc';
import { getRecord } from 'lightning/uiRecordApi';
import ACCOUNT_NAME_FIELD from '@salesforce/schema/Account.Name';

export default class Record extends LightningElement {
    @api recordId;

    @wire(getRecord, { recordId: '$recordId', fields: [ACCOUNT_NAME_FIELD] })
    record;
}
</code></pre>
<h4 id="what-is-that--in-recordid-above"><a class="header" href="#what-is-that--in-recordid-above">What is that $ in recordId above?</a></h4>
<ul>
<li>In the wire adapter’s configuration object, prefix a value with $ to <strong>reference a property of the component instance</strong>. The $ prefix tells the wire service to treat it as a property of the class and evaluate it as this.propertyName. </li>
<li>The property is reactive. If the property’s value changes, new data is provisioned and the component rerenders.</li>
</ul>
<h2 id="references-2"><a class="header" href="#references-2">References</a></h2>
<ul>
<li><a href="https://blog.bitsrc.io/javascript-decorators-from-scratch-c4cfd6c33d70">JavaScript Decorators From Scratch</a></li>
<li><a href="https://www.youtube.com/watch?v=WbDoaZ1gi3E">LWC Fundamentals - Understanding Decorators | Developer Quick Takes</a></li>
<li><a href="https://www.youtube.com/watch?v=F7J5yn3MIXw">LWC Fundamentals - The @api Decorator | Developer Quick Takes</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="5-component-life-cycle"><a class="header" href="#5-component-life-cycle">5. Component Life Cycle</a></h1>
<p><img src="https://lh5.googleusercontent.com/proxy/Udf1SHwcHcr_UoxVKfA3Csa-DSHEQVgvji6rjY3bAIMbiQi8wZe04kLyhXPODpHxiusG65rqE47WUPmHPTqXKPQ5OWKDH1UWM2Zn6JAxHySrkveHoC2Xxi0gkhiz6c4Qqz7iLEfbRj-sORmlb3YPQmXhrOtevQQsK5i3ktwKVvIrE0M4_IMsd6WipB10ntb7xFp0S1VgwmgKsQyVG_zc4mbqfjhs1U_46nFh-ZnImtu7lBA42wQvQuSJ84qB9-bACods=s1920-w1920-h1080-fcrop64=1,000030a3fffffe59-k-no-nd-mv" alt="Field" /></p>
<ul>
<li>Lifecycle managed by the framework</li>
<li>The framework:
<ul>
<li>creates components, </li>
<li>inserts them into the DOM, renders them, and removes them from the DOM. </li>
<li>monitors components for property changes</li>
</ul>
</li>
</ul>
<h2 id="constructor"><a class="header" href="#constructor"><code>constructor()</code></a></h2>
<ul>
<li>Framework fires this method when a component instance is created.</li>
</ul>
<h2 id="connectedcallback"><a class="header" href="#connectedcallback"><code>connectedCallback()</code></a></h2>
<ul>
<li>lifecycle hook fires when a component is <strong>inserted</strong> into the DOM.</li>
</ul>
<h2 id="disconnectedcallback"><a class="header" href="#disconnectedcallback"><code>disconnectedCallback()</code></a></h2>
<ul>
<li>lifecycle hook fires when a component is <strong>removed</strong> from the DOM. </li>
</ul>
<h2 id="renderedcallback---unique-to-lwc"><a class="header" href="#renderedcallback---unique-to-lwc"><code>renderedCallback()</code> - unique to LWC</a></h2>
<ul>
<li>Use it to perform logic after a component has finished the <strong>rendering phase</strong>.</li>
</ul>
<h2 id="errorcallback---unique-to-lwc"><a class="header" href="#errorcallback---unique-to-lwc"><code>errorCallback()</code> - unique to LWC</a></h2>
<ul>
<li>Implement it to create an error boundary component that captures errors in all the descendent components in its tree</li>
</ul>
<p><img src="https://resources.docs.salesforce.com/images/57e856aff4175f807fe0ccbf6ad98301.png" alt="Life cycle" /></p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="6-events"><a class="header" href="#6-events">6. Events</a></h1>
<p><img src="https://lh6.googleusercontent.com/proxy/HgT6AuEGAc6MsveoKBhmvSSXv_EgLUghitzqqwFecpZLI4UlhFpHoN1bibFYjfuNlxyGCMURfZRl-opnVRMwfam33PTE71gNDvORtICpLdOdlNjAi9sxnKG4Cc8sCLBEXzpioyIbbeQDaFa5Nok-T_Gm0M8pGpMhCL67kRyTcbVUuiGONHsGFa7rflCmWOos1OQbKnDHcxkOmsZkFVs_tFQcf4TgZdRD1Y4OnFHz2XPoOEUb0UxSOiQzDBM26elxFvUMg4wS_mMVC8sVaQ=s1920-w1920-h1080-p-k-no-nd-mv" alt="bridge" /></p>
<pre><code class="language-html">&lt;!-- paginator.html --&gt;
&lt;template&gt;
    &lt;lightning-layout&gt;
        &lt;lightning-layout-item&gt;
            &lt;lightning-button label=&quot;Previous&quot; icon-name=&quot;utility:chevronleft&quot; onclick={previousHandler}&gt;&lt;/lightning-button&gt;
        &lt;/lightning-layout-item&gt;
        &lt;lightning-layout-item flexibility=&quot;grow&quot;&gt;&lt;/lightning-layout-item&gt;
        &lt;lightning-layout-item&gt;
            &lt;lightning-button label=&quot;Next&quot; icon-name=&quot;utility:chevronright&quot; icon-position=&quot;right&quot; onclick={nextHandler}&gt;&lt;/lightning-button&gt;
        &lt;/lightning-layout-item&gt;
    &lt;/lightning-layout&gt;
&lt;/template&gt;
</code></pre>
<pre><code class="language-js">
// paginator.js
import { LightningElement } from 'lwc';

export default class Paginator extends LightningElement {

    // These events are simple “something happened” events
    previousHandler() {
        this.dispatchEvent(new CustomEvent('previous'));
    }

    nextHandler() {
        this.dispatchEvent(new CustomEvent('next'));
    }
}

</code></pre>
<h3 id="using-paginator"><a class="header" href="#using-paginator">Using paginator</a></h3>
<pre><code class="language-html">&lt;template&gt;
    &lt;lightning-card title=&quot;EventSimple&quot; icon-name=&quot;standard:logging&quot;&gt;
        &lt;div class=&quot;slds-var-m-around_medium&quot;&gt;
            &lt;p
                class=&quot;slds-text-align_center slds-var-m-vertical_medium content&quot;
            &gt;
                Page {page}
            &lt;/p&gt;
            &lt;c-paginator
                class=&quot;slds-show slds-is-relative&quot;
                onprevious={handlePrevious}
                onnext={handleNext}
            &gt;&lt;/c-paginator&gt;
        &lt;/div&gt;
    &lt;/lightning-card&gt;

</code></pre>
<pre><code class="language-js">
// EventSimple.js 
import { LightningElement } from 'lwc';

export default class EventSimple extends LightningElement {
    page = 1;

    handlePrevious() {
        if (this.page &gt; 1) {
            this.page = this.page - 1;
        }
    }

    handleNext() {
        this.page = this.page + 1;
    }
}
</code></pre>
<h3 id="pass-data-in-an-event"><a class="header" href="#pass-data-in-an-event">Pass Data in an Event</a></h3>
<pre><code class="language-js">
   // Creates the event with the contact ID data.
   const selectedEvent = new CustomEvent('selected', { detail: this.contact.Id });


</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="7-lightning-data-service"><a class="header" href="#7-lightning-data-service">7. Lightning Data Service</a></h1>
<p><img src="https://lh5.googleusercontent.com/proxy/WJw71U8NbKDZAmeqDruztTrqWD-xhAejU4Kjgak4PfjoahwOGD3qxKBdZ-sxCPn51ovSwJbroDyk7bobkZYzmNNdDpeTEjAabt8xYJCEpF9EMdeYSSunT17ZzJyBDOHQ0KE49gf8JCk5Ox6x-3ILW2Noa3O2BBzTpAjxB32iaWzyW6Fw3sZEFpPcbxAACKZ3WE3nquE6qISydR3xg0-PX-L9KChPpIPmlE2Jp1C17wGXCw=s1920-w1920-h1080-p-k-no-nd-mv" alt="Fish" /></p>
<ul>
<li>
<p>Records loaded in Lightning Data Service (LDS) are cached and <strong>shared across components</strong>. </p>
</li>
<li>
<p>If a page is composed of components showing the same record, all components <strong>show the same version of the record</strong>. </p>
</li>
<li>
<p>Components accessing the same record see significant performance improvements, because a record is <strong>loaded once</strong>, no matter how many components are using it.</p>
</li>
<li>
<p>Supports all custom objects and all the standard objects that User Interface API supports.</p>
</li>
<li>
<p>External objects, person accounts, and custom metadata types are not supported.</p>
</li>
</ul>
<h3 id="managed"><a class="header" href="#managed">Managed</a></h3>
<ul>
<li>Lightning Data Service <strong>manages data for you</strong>
<ul>
<li>changes to a record are reflected in all the technologies built on it. </li>
</ul>
</li>
<li>Contrastingly, data from Apex is not managed; <strong>you must refresh the data</strong>.</li>
<li>If Lightning Data Service (LDS) detects a change to a record or any data or metadata it supports
<ul>
<li>all components using a relevant @wire adapter receive the new value. The detection is triggered if:
<ul>
<li>A Lightning web component mutates the record.</li>
<li>The LDS cache entry expires and then a Lightning web component’s @wire triggers a read</li>
</ul>
</li>
</ul>
</li>
<li>LDS Loads record data progressively.</li>
<li>Caches results on the client.</li>
<li>Invalidates cache entries when dependent Salesforce data and metadata changes.</li>
<li>Optimizes server calls by bulkifying and de-duping requests.</li>
</ul>
<p><img src="https://resources.docs.salesforce.com/images/96c6c99f3a530fbd2600a734ee804326.png" alt="LDS" /></p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="8-security-with-lightning-locker"><a class="header" href="#8-security-with-lightning-locker">8. Security with Lightning Locker</a></h1>
<p><img src="https://lh3.googleusercontent.com/proxy/XBDGpQFse1mBHb37rhotlDeObCiUdYEvgu470XKaBaW9IPDl8QIz3pBiweM2eI6VvDMWvS3HZE89mFb0so2xsQBQBrVWIviEIbZs_2tN4hou0GF1qanh_HH8wcX4uVVbnoJ_HeD-HMCkeA_ZOJIiQI36df9MbUAxc2uZrOApP9P0VxxUpDUZmnvT4bIVfdJsEKBVDss0-t04hGROSh4KFACJmdghg8P5xE0tWVffF-JrMjMjiKseyQbGEw=s1920-w1920-h1080-fcrop64=1,000023d6fffffe04-k-no-nd-mv" alt="farm coconut" /></p>
<ul>
<li>Lightning Locker provides:
<ul>
<li>
<p>component isolation and security that allows code from many sources to execute and interact using safe, standard APIs and event mechanisms. </p>
</li>
<li>
<p>Lightning Locker is enabled for all custom Lightning web components.</p>
</li>
</ul>
</li>
</ul>
<h2 id="strict-mode-use-strict"><a class="header" href="#strict-mode-use-strict">strict mode <code>&quot;use strict&quot;</code></a></h2>
<ul>
<li>Lightning Locker implicitly enables JavaScript strict mode everywhere</li>
<li>JavaScript strict mode makes code more secure, robust, and supportable.</li>
</ul>
<h2 id="dom-access-containment"><a class="header" href="#dom-access-containment">DOM Access Containment</a></h2>
<ul>
<li>A component <strong>can only traverse the DOM and access elements that it created</strong>. 
<ul>
<li>This behavior prevents the anti-pattern of reaching into DOM elements owned by other components.</li>
</ul>
</li>
<li>Lightning web components can’t use the <code>window</code> or <code>document</code> global properties to query for DOM elements. </li>
<li>For example, use <code>this.template.querySelector()</code> instead of <code>document.querySelector()</code>.</li>
</ul>
<h2 id="secure-wrappers"><a class="header" href="#secure-wrappers">Secure Wrappers</a></h2>
<ul>
<li>For security, Lightning Locker restricts <strong>the use of global objects by hiding an object or by wrapping it in a secure version of the object</strong>. 
<ul>
<li>For example, the secure version of window is <code>SecureWindow</code>. </li>
<li>Locker intercepts calls to window and uses SecureWindow instead.</li>
</ul>
</li>
</ul>
<h2 id="third-party-web-components"><a class="header" href="#third-party-web-components">Third-Party Web Components</a></h2>
<ul>
<li>To prevent security risks, you can’t use third-party web components on the Salesforce platform.</li>
<li>Web components are custom elements. To define a custom element, you must use the customElements.define API. However, this API is global, and allows you to globally register a component name. </li>
<li>Registering a name globally is a security risk because an attacker could register any name and take over the page. </li>
<li>Lightning Locker’s SecureWindow wrapper blocks the <strong>customElements</strong> methods that create custom web components.</li>
</ul>
<h2 id="locker-console"><a class="header" href="#locker-console">Locker Console</a></h2>
<ul>
<li>We can use <a href="https://developer.salesforce.com/docs/component-library/tools/locker-service-console">locker console</a> to check your code</li>
<li><a href="https://developer.salesforce.com/docs/component-library/tools/locker-service-viewer">Locker API Viewer</a></li>
<li><a href="https://trailhead.salesforce.com/en/content/learn/modules/secure-clientside-development/build-secure-apps-with-lightning-web-components">Build Secure Apps with Lightning Web Components</a></li>
</ul>
<h3 id="demo-of-using-locker--console"><a class="header" href="#demo-of-using-locker--console">Demo of using Locker  Console</a></h3>
<p><img src="img/c8/locker-1.gif" alt="Locker console demo" /></p>
<ul>
<li><a href="https://webcomponents.dev/edit/3lTiTgKhJdAV3u6IRl4F/src/app.js">Playground showing using cookie datatable</a></li>
</ul>
<pre><code class="language-js">/*
Lightning Locker enhances security by restricting components' access to APIs and
Lightning Component framework internals. 
- The example #1 shows how it blocks the setting of rel=&quot;import&quot; on link elements, since the setting can bypass sandboxes.
When you click Evaluate, a table on the right side shows the value of your 
output, based on whether Locker is turned on or off.

- The example #2 shows results of document.cookie
- 
*/

var link = document.createElement('link');
link.rel = 'import';
var rel = link.rel;
rel;

 const cookies = [];

 const citems = document.cookie.split(';');
    citems.forEach( item =&gt; {
      const [name, value] = item.split('=');
      cookies.push( {name, value});
      
 });
JSON.stringify(cookies, null,4);
</code></pre>
<ul>
<li>Note: Your LWC component is limited in accessing <code>document.cookie</code>
<ul>
<li>only cookies that were  set from the LWC component can be accessed.</li>
</ul>
</li>
</ul>
<h3 id="component-code"><a class="header" href="#component-code">Component code</a></h3>
<pre><code class="language-js">import { LightningElement } from &quot;lwc&quot;;

const columns = [

   {fieldName: &quot;name&quot;, label: 'Name'},
   {fieldName: &quot;value&quot;, label: 'Value'},
    
];

export default class App extends LightningElement {
  title = &quot;Cookies&quot;;

  columns = columns;

    // Note: Your LWC component is limited in accessing document.cookie
    // -  only cookies that were set from the LWC component can be accessed.

    get cookies() {
    document.cookie = &quot;favorite_fruit=apple&quot;;
    const citems = document.cookie.split(';');
    const cookies = [];
    citems.forEach( item =&gt; {
      const [name, value] = item.split('=');
      cookies.push( {name, value});
    });
    return cookies;

  }
  
}

</code></pre>
<h3 id="component-markup"><a class="header" href="#component-markup">Component markup</a></h3>
<pre><code class="language-html">&lt;template&gt;
	&lt;div class=&quot;app slds-p-around_x-large&quot;&gt;
		&lt;h1 class=&quot;slds-text-heading_large&quot;&gt;{title}&lt;/h1&gt;

		&lt;lightning-datatable key-field=&quot;name&quot; data={cookies} columns={columns}&gt;
		&lt;/lightning-datatable&gt;

		&lt;template for:each={cookies} for:item=&quot;cookie&quot;&gt;
			&lt;div key={cookie.value}&gt;
				{cookie.name} = { cookie.value}
				&lt;hr /&gt;
			&lt;/div&gt;
		&lt;/template&gt;



	&lt;/div&gt;
&lt;/template&gt;

</code></pre>
<h3 id="component-use"><a class="header" href="#component-use">Component use</a></h3>
<p><img src="img/c8/cookie-2.png" alt="Cookie component in use" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
